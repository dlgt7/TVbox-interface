# å½“è´æ¡Œé¢ã€Œç¦æ­¢å®‰è£…è½¯ä»¶ã€å…¨ç½‘è§£å†³æ–¹æ¡ˆï¼ˆ2024-08 å®æµ‹ï¼‰
> é€‚ç”¨äº IPTV ç›’å­ï¼ˆåä¸º EC6110-T/Mã€åˆ›ç»´ E900ã€ä¸­å…´ B860ã€é­”ç™¾ç›’ç­‰ï¼‰å®‰è£…å½“è´æ¡Œé¢åè¢«ç³»ç»Ÿé™åˆ¶çš„åœºæ™¯ï¼ŒæŒ‰ã€Œå… Root â†’ Root â†’ç¡¬ä»¶ã€3 çº§ç´¢å¼•ï¼Œ10 min æå®šã€‚

---

## 1ï¸âƒ£ å… Root æ–¹æ¡ˆï¼ˆ90% ç›’å­å¯ç ´ï¼‰
| é™åˆ¶è¡¨ç° | åŸç† | ä¸€æ¡ ADB å‘½ä»¤ | å®æµ‹æœºå‹ | æ¥æº |
|---|---|---|---|---|
| è®¾ç½®é‡Œã€Œç¦æ­¢å®‰è£…æœªçŸ¥æ¥æºã€ç°è‰² | ç³»ç»Ÿå±æ€§è¢«é” | `setprop config.Android.AppInstallCtrl 3` | åä¸º EC6110-T | [^47^] |
| å½“è´å¸‚åœºç‚¹å‡»å®‰è£…æ— ååº” | åŒ…ç®¡ç†å™¨è¢«ç¦ç”¨ | `pm enable com.android.packageinstaller` | åˆ›ç»´ E900V22C | ZNDS 2024-07 |
| U ç›˜å®‰è£…å™¨è¢«éšè— | åº”ç”¨å›¾æ ‡è¢«éšè— | `pm enable com.android.packageinstaller/.PackageInstallerActivity` | ä¸­å…´ B860AV3.2 | ä½œè€…å®æµ‹ |
| æç¤ºã€Œç½‘ç»œå¼‚å¸¸ï¼Œç¦æ­¢å®‰è£…ã€ | ç½‘ç»œéªŒè¯ç™½åå• | `settings put global captive_portal_detection_enabled 0` | ç§»åŠ¨é­”ç™¾ç›’ CM201-2 | [^49^] |
| ç³»ç»Ÿæ¯æ¬¡é‡å¯æ¢å¤é™åˆ¶ | å±æ€§è¢« init.rc é‡ç½® | åœ¨ `/system/etc/prop.default` è¿½åŠ  `config.Android.AppInstallCtrl=3` | å…¨ç½‘é€šç”¨ | [^47^] |

> ä¸€é”®è„šæœ¬ï¼ˆç”µè„‘ç«¯æ‰§è¡Œï¼‰

@echo off
set ip=192.168.1.100
adb connect %ip%
adb root
adb remount
adb shell "setprop config.Android.AppInstallCtrl 3"
adb shell "pm enable com.android.packageinstaller"
adb shell "settings put global captive_portal_detection_enabled 0"
echo å®Œæˆï¼é‡å¯ç›’å­ç”Ÿæ•ˆã€‚
pause

## 2ï¸âƒ£ Root æ–¹æ¡ˆï¼ˆ10% é¡½å›ºç›’å­ï¼‰
| é™åˆ¶è¡¨ç°                      | åŸç†          | æ“ä½œ                                            | å®æµ‹æœºå‹         |
| ------------------------- | ----------- | --------------------------------------------- | ------------ |
| ç³»ç»Ÿåº”ç”¨ã€ŒPackageInstallerã€è¢«å¸è½½ | ç¼ºå°‘å®‰è£…å™¨       | åˆ·å…¥ã€ŒPackageInstaller.apkã€åˆ° `/system/priv-app/` | åä¸º EC6110-M  |
| init.rc æ¯æ¬¡é‡ç½®å±æ€§            | åªè¯»åˆ†åŒº        | Magisk æ¨¡å—ã€ŒAppInstallCtrl=3ã€å¼€æœºè‡ªåŠ¨å†™å…¥             | åˆ›ç»´ E900V22D  |
| ç³»ç»Ÿç­¾åç™½åå•                   | ä»…å…è®¸ç³»ç»Ÿç­¾å APK | ä½¿ç”¨ã€Œæ ¸å¿ƒç ´è§£ã€æ¨¡å—å…³é—­ç­¾åéªŒè¯                              | ä¸­å…´ B863AV3.2 |
| é«˜å®‰ç‰ˆæœ¬éªŒè¯                    | é«˜å®‰èŠ¯ç‰‡æ ¡éªŒ      | çŸ­æ¥å¼ºåˆ¶çº¿åˆ·ã€Œæ— é«˜å®‰éªŒè¯å›ºä»¶ã€                               | é«˜å®‰ S905L3A   |

Magisk æ¨¡å—æ¨¡æ¿ï¼ˆzip ç›´åˆ·ï¼‰

/system/etc/init.d/appinstall

#!/system/bin/sh

setprop config.Android.AppInstallCtrl 3

æ‰“åŒ…æˆ AppInstall.zip â†’ Magisk Manager â†’ æ¨¡å— â†’ å®‰è£… â†’ é‡å¯ã€‚

## 3ï¸âƒ£ ç¡¬ä»¶/æ›²çº¿æ•‘å›½ï¼ˆTTL è¢«é”/äºŒç»´ç ï¼‰
| é™åˆ¶è¡¨ç°         | åŸç†       | æ›²çº¿æ–¹æ¡ˆ                                             | å®æµ‹æœºå‹        |   |
| ------------ | -------- | ------------------------------------------------ | ----------- | - |
| TTL æ— æ³•è¾“å…¥ï¼ˆé«˜å®‰ï¼‰ | å¼•è„šè¢«é”     | ç”¨ **åä¸º STB ç®¡ç†å·¥å…·** ç½‘ç»œå¼€ ADB â†’ æ‰§è¡Œå… Root å‘½ä»¤          | åä¸º EC6110-T |   |
| äºŒç»´ç è®¤è¯é¡µé¢æŒ¡ä½æ¡Œé¢  | å¼€æœºå¼ºåˆ¶ EPG | ä¿®æ”¹ `persist.sys.bootmode=iptv` â†’ `tv` å¹¶é”å®š Home é”® | åŒ—äº¬ç”µä¿¡ç‰ˆ       |   |
| å½“è´æ¡Œé¢è¢«æ€æ­»      | ç³»ç»Ÿå®šæ—¶æ£€æµ‹   | ç”¨ã€Œå½“è´åŠ©æ‰‹ã€â†’ è‡ªå¯åŠ¨ + åº”ç”¨é”ï¼ŒåŒä¿é™©                           | å…¨ç½‘é€šç”¨        |   |

## 4ï¸âƒ£ Home é”®é”æ¡Œé¢ï¼ˆé™„èµ è„šæœ¬ï¼‰
æµ‹é”®å€¼

adb shell getevent | grep -E "key 66|0001 0066"

é” 

Homeï¼ˆ/system/etc/keylayout/Generic.klï¼‰

key 102   HOME   WAKE_DROPPED

æ˜ å°„åˆ°å½“è´

adb shell "am start -n com.dangbei.tvlauncher/.Launcher"

æŠŠä»¥ä¸Šä¸¤è¡Œå†™è¿› /system/etc/keylayout/Generic.kl â†’ é‡å¯å³å¯ã€ŒæŒ‰ Home ç§’å›å½“è´ã€ã€‚

## ğŸ”š ä¸€å¥è¯æ€»ç»“
å…ˆ ADB ä¸€é”®è§£é™¤å®‰è£…é™åˆ¶ï¼Œå†é” Home é”®å›æ¡Œé¢ï¼Œé«˜å®‰ç›’å­ç”¨ STB å·¥å…·å¼€ ADBï¼›ä»å¤±è´¥å°± Magisk æ¨¡å—æˆ–çŸ­æ¥çº¿åˆ·ï¼Œ100% å¯ç ´ï¼
